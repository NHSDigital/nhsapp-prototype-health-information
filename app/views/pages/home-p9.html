{% extends 'layout-app.html' %}

{% set hub = "Home" %}

{% set pageHeading = "Home" %}

{% block content %}

  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">

      <!-- DYNAMIC PAGE TITLE -->
      {{ dynamicPageTitle({
        logo: data['web'] !== "yes",
        greetingName: data['userFirstName'] + " " + data['userLastName'],
        nhsNumber: data['nhsNumber']
      })}}

      {{ nhsappCardGroup({
        stacked: true,
        headingHtml: '<div class="nhsapp-cards__heading" style="justify-content: space-between; align-items: center; display: flex;">
          <h2 class="nhsuk-heading-s nhsuk-u-margin-bottom-0">Services</h2>
          <a class="nhsuk-u-font-size-19 nhsuk-link nhsuk-link--no-visited-state nhsuk-u-nowrap" href="/pages/services-p9">View all <span class="nhsuk-u-visually-hidden">services</span></a> 
        </div>',
        cards: [
          {
            title: "Request medicines",
            href: "/pages/your-health/repeat-prescription/select-medicines"
          },
          {
            title: "Check if you need urgent medical help using 111 online",
            href: "#"
          }
        ]
      }) }}

      {{ nhsappCardGroup({
        stacked: true,
        headingHtml: '<div class="nhsapp-cards__heading" style="justify-content: space-between; align-items: center; display: flex;">
          <h2 class="nhsuk-heading-s nhsuk-u-margin-bottom-0">Your health</h2>
          <a class="nhsuk-u-font-size-19 nhsuk-link nhsuk-link--no-visited-state nhsuk-u-nowrap" href="/pages/your-health-p9">View all <span class="nhsuk-u-visually-hidden">your health</span></a> 
        </div>',
        cards: [
          {
            title: "GP health record",
            href: "/pages/your-health/gp-health-record/warning"
          },
          {
            title: "View and manage prescriptions",
            href: "/pages/your-health/prescriptions-p9"
          },
          {
            title: "Upcoming and past appointments",
            href: "/pages/your-health/upcoming-and-past-appointments-p9"
          }
        ]
      }) }}

      {% if data['messages'] > 0 %}
        {{ nhsappCardGroup({
          stacked: true,
          heading: 'Messages',
          cards: [
            {
              title: 'View your messages',
              href: '/pages/messages-p9',
              prefixIcon: 'messagesUnread',
              linkAriaLabel: 'Messages, you have ' + data['messages'] + ' unread messages',
              badgeLarge: {
                count: data['messages'],
                label: 'unread messages'
              }
            }
          ]
        }) }}
      {% else %}
        {{ nhsappCardGroup({
          stacked: true,
          heading: 'Messages',
          cards: [
            {
              title: 'View your messages',
              href: '/pages/messages-p9'
            }
          ]
        }) }}
      {% endif %}

      {{ nhsappCardGroup({
        stacked: true,
        heading: 'Account',
        cards: [
          {
            title: 'Manage services for another person',
            href: '/pages/account-and-settings/linked-profiles'
          }
        ]
      }) }}

      {{ nhsappCard({
        classes: 'nhsapp-card--dark-blue',
        href: '#',
        title: 'Help change the NHS',
        titleClasses: 'nhsuk-u-font-size-26',
        descriptionHtml: '<p class="nhsuk-u-margin-top-2">Have your say on making the NHS fit for the future</p>',
        img: {
          src: '/images/campaigns/campaign-card-image-3.jpg'
        }
      }) }}

    </div>
  </div>

{% endblock %}
